(()=>{"use strict";var t=1e-6,e="undefined"!=typeof Float32Array?Float32Array:Array;function n(){var t=new e(16);return e!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function o(t,e,n){var o,i,r,s,a,h,c,u,f,l,d,m,g=n[0],p=n[1],v=n[2];return e===t?(t[12]=e[0]*g+e[4]*p+e[8]*v+e[12],t[13]=e[1]*g+e[5]*p+e[9]*v+e[13],t[14]=e[2]*g+e[6]*p+e[10]*v+e[14],t[15]=e[3]*g+e[7]*p+e[11]*v+e[15]):(o=e[0],i=e[1],r=e[2],s=e[3],a=e[4],h=e[5],c=e[6],u=e[7],f=e[8],l=e[9],d=e[10],m=e[11],t[0]=o,t[1]=i,t[2]=r,t[3]=s,t[4]=a,t[5]=h,t[6]=c,t[7]=u,t[8]=f,t[9]=l,t[10]=d,t[11]=m,t[12]=o*g+a*p+f*v+e[12],t[13]=i*g+h*p+l*v+e[13],t[14]=r*g+c*p+d*v+e[14],t[15]=s*g+u*p+m*v+e[15]),t}Math.random,Math.PI,Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var i=function(t,e,n,o,i){var r,s=1/Math.tan(e/2);return t[0]=s/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(r=1/(o-i),t[10]=(i+o)*r,t[14]=2*i*o*r):(t[10]=-1,t[14]=-2*o),t};function r(){var t=new e(3);return e!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function s(t,n,o){var i=new e(3);return i[0]=t,i[1]=n,i[2]=o,i}function a(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function h(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function c(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}r();const u=(t,e,n=document.body)=>{const o=f(t,e,n);return o.classList.add("game-button"),o},f=(t,e,n=document.body)=>{const o=document.createElement("button");return o.onclick=e,o.textContent=t,n.appendChild(o),o},l=(t,e=document.body)=>{const n=document.createElement("h5");return n.textContent=t,e.appendChild(n),n};var d;!function(t){t[t.SUCESS=0]="SUCESS",t[t.ERROR=1]="ERROR"}(d||(d={}));var m=function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function s(t){try{h(o.next(t))}catch(t){r(t)}}function a(t){try{h(o.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}h((o=o.apply(t,e||[])).next())}))};const g=new class{constructor(t=40,e=0,n=16,o=32){this._meshes=new Map,this._vertexCount=0,this._vertexSize=t,this._positionOffset=e,this._colorOffset=n,this._uvOffset=o}get vertexSize(){return this._vertexSize}get positionOffset(){return this._positionOffset}get colorOffset(){return this._colorOffset}get uvOffset(){return this._uvOffset}get vertexCount(){return this._vertexCount}get(t){const e=this._meshes.get(t);if(!e)throw new Error("Cannot find mesh!");return e}add(t){if(this._meshes.has(t.meshName))throw new Error("Mesh already in map.");if(this.vertexSize!=t.vertexSize)throw new Error("Cannot add mesh with different vertex size to the ");if(this.positionOffset!=t.positionOffset||this.colorOffset!=t.colorOffset||this.uvOffset!=t.uvOffset)throw new Error("Cannot add mesh with different offsets.");let e=this.vertexCount;this._meshes.set(t.meshName,{mesh:t,offset:e}),this._vertexCount+=t.vertexCount}remove(t){this._meshes.has(t.meshName)&&(this._vertexCount-=t.vertexCount,this._meshes.delete(t.meshName))}forEach(t,e){this._meshes.forEach(t,e)}},p=[],v=[],w=[],y=[],x=t=>100==p.length?(console.log("Cannot add model exceeded max!"),d.ERROR):(p.push(t),d.SUCESS),M=t=>{try{return g.add(t),d.SUCESS}catch(t){return console.log(t),d.ERROR}},b=(t,e,n,o)=>t.createBindGroup({layout:e.getBindGroupLayout(0),entries:[{binding:0,resource:{buffer:n,offset:256*o,size:64}}]});let C=0,S=0;const E=()=>C/1e3,A=Date.now(),O=()=>S/((Date.now()-A)/1e3),P=({gameWindow:t,pageState:e})=>m(void 0,void 0,void 0,(function*(){const n=yield function(t,e,n=!1,o=!1){return m(this,void 0,void 0,(function*(){const i=yield t.requestAdapter({powerPreference:e,forceFallbackAdapter:n});return(null==i?void 0:i.isFallbackAdapter)&&!0===o?null:i}))}(navigator.gpu,"high-performance",!1,!0),o=yield null==n?void 0:n.requestAdapterInfo();if(console.log(null==o?void 0:o.vendor),console.log(null==n?void 0:n.isFallbackAdapter),null==n)throw new Error("Could not find adapter");const i=yield n.requestDevice();if(!e.active)return;const r=t.context,s=[t.width,t.height],a=navigator.gpu.getPreferredCanvasFormat();r.configure({device:i,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC,format:a,alphaMode:"opaque"});const h=i.createBuffer({size:g.vertexSize*g.vertexCount,usage:GPUBufferUsage.VERTEX,mappedAtCreation:!0});let c=new Float32Array(h.getMappedRange());g.forEach((({mesh:t,offset:e})=>{c.set(t.vertexArray,g.vertexSize/4*e)})),h.unmap();const u=i.createRenderPipeline({layout:"auto",vertex:{module:i.createShaderModule({code:"struct Uniforms {\n  modelMatrix : mat4x4<f32>,\n}\n\nstruct CameraUniform {\n    viewMatrix : mat4x4<f32>,\n    projMatrix : mat4x4<f32>,\n}\n@binding(0) @group(0) var<uniform> uniforms : Uniforms;\n@binding(0) @group(1) var<uniform> camera : CameraUniform;\n\nstruct VertexOutput {\n  @builtin(position) Position : vec4<f32>,\n  @location(0) fragUV : vec2<f32>,\n  @location(1) fragPosition: vec4<f32>,\n}\n\n@vertex\nfn main(\n  @location(0) position : vec4<f32>,\n  @location(1) uv : vec2<f32>\n) -> VertexOutput {\n  var output : VertexOutput;\n  var mvp = camera.projMatrix * camera.viewMatrix * uniforms.modelMatrix;\n  output.Position = mvp * position;\n  output.fragUV = uv;\n  output.fragPosition = 0.5 * (position + vec4(1.0, 1.0, 1.0, 1.0));\n  return output;\n}\n"}),entryPoint:"main",buffers:[{arrayStride:g.vertexSize,attributes:[{shaderLocation:0,offset:g.positionOffset,format:"float32x4"},{shaderLocation:1,offset:g.uvOffset,format:"float32x2"}]}]},fragment:{module:i.createShaderModule({code:"@fragment\nfn main(\n  @location(0) fragUV: vec2<f32>,\n  @location(1) fragPosition: vec4<f32>\n) -> @location(0) vec4<f32> {\n  return fragPosition;\n}\n"}),entryPoint:"main",targets:[{format:a}]},primitive:{topology:"triangle-list",cullMode:"back"},depthStencil:{depthWriteEnabled:!0,depthCompare:"less",format:"depth24plus"}});let f=i.createTexture({size:s,format:"depth24plus",usage:GPUTextureUsage.RENDER_ATTACHMENT});const l=i.createBuffer({size:25600,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST});for(let t=0;t<100;t++)v.push(b(i,u,l,t));const d=i.createBuffer({size:256,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST});for(let t=0;t<1;t++)y.push(i.createBindGroup({layout:u.getBindGroupLayout(1),entries:[{binding:0,resource:{buffer:d,offset:0,size:128}}],label:"camera_bind_group"}));const x={colorAttachments:[{view:void 0,resolveTarget:void 0,clearValue:{r:.5,g:.5,b:.5,a:1},loadOp:"clear",storeOp:"store"}],depthStencilAttachment:{view:f.createView(),depthClearValue:1,depthLoadOp:"clear",depthStoreOp:"store"}};let M=Date.now();for(let t of p)t.onInit(),console.log("Initialising models!");requestAnimationFrame((function n(){let o=Date.now();if(C=o-M,M=o,S+=1,t.hasResized(s[0],s[1])){void 0!==f&&f.destroy(),s[0]=t.width,s[1]=t.height,f=i.createTexture({size:s,format:"depth24plus",usage:GPUTextureUsage.RENDER_ATTACHMENT});let e=f.createView();x.depthStencilAttachment.view=e;for(let t of w)t.aspect=s[0]/s[1]}if(!e.active)return;for(let t of p)t.onUpdate();for(let t of w)t.onUpdate();for(let t=0;t<p.length;t++){const e=p[t].transform,n=256*t;i.queue.writeBuffer(l,n,e.buffer,e.byteOffset,e.byteLength)}for(let t=0;t<w.length;t++){const e=w[t].viewMatrix(),n=w[t].projMatrix(),o=new Float32Array(e.length+n.length);o.set(e),o.set(n,e.length);const r=256*t;i.queue.writeBuffer(d,r,o.buffer,o.byteOffset,o.byteLength)}x.colorAttachments[0].view=r.getCurrentTexture().createView();const a=i.createCommandEncoder(),c=a.beginRenderPass(x);c.setPipeline(u),c.setVertexBuffer(0,h),c.setBindGroup(1,y[0]);for(let t=0;t<p.length;t++){const{mesh:e,offset:n}=g.get(p[t].meshName);c.setBindGroup(0,v[t]),c.draw(e.vertexCount,1,n,0)}c.end(),i.queue.submit([a.finish()]),requestAnimationFrame(n)}))}));class U{constructor(t,e,n,o,i=1,r=1,s=100){this.position=t,this.direction=e,this.up=n,this.aspect=o,this.fovy=i,this.znear=r,this.zfar=s}}class z extends U{constructor(){super(...arguments),this.transform=n(),this.mouseSpeed=.5,this.speed=10,this.horizontalAngle=3.14,this.verticalAngle=0,this.forward=!1,this.backward=!1,this.left=!1,this.right=!1,this.rightDirection=r(),this.initialFov=45,this.rotate=!1,this.lastX=0,this.lastY=0,this.onInit=()=>{document.addEventListener("mousedown",(t=>{this.rotate=!0,this.lastX=t.clientX,this.lastY=t.clientY})),document.addEventListener("mouseup",(()=>{this.rotate=!1})),document.addEventListener("mousemove",(t=>{if(this.rotate){var e,n,o,i,r,a,h,c,u,f=t.clientX,l=t.clientY;this.horizontalAngle+=this.mouseSpeed*E()*(this.lastX-t.clientX),this.verticalAngle+=this.mouseSpeed*E()*(this.lastY-t.clientY),console.log(t.clientX),this.direction=s(Math.cos(this.verticalAngle)*Math.sin(this.horizontalAngle),Math.sin(this.verticalAngle),Math.cos(this.verticalAngle)*Math.cos(this.horizontalAngle)),this.rightDirection=s(Math.sin(this.horizontalAngle-1.57),0,Math.cos(this.horizontalAngle-1.57)),e=this.up,n=this.rightDirection,o=this.direction,i=n[0],r=n[1],a=n[2],h=o[0],c=o[1],u=o[2],e[0]=r*u-a*c,e[1]=a*h-i*u,e[2]=i*c-r*h,this.lastX=f,this.lastY=l}})),document.addEventListener("wheel",(t=>{this.fovy=this.initialFov-5*t.deltaY})),document.addEventListener("keydown",(t=>{"w"==t.key&&(this.forward=!0),"s"==t.key&&(this.backward=!0),"a"==t.key&&(this.left=!0),"d"==t.key&&(this.right=!0)})),document.addEventListener("keyup",(t=>{"w"==t.key&&(this.forward=!1),"s"==t.key&&(this.backward=!1),"a"==t.key&&(this.left=!1),"d"==t.key&&(this.right=!1)}))},this.onUpdate=()=>{if(this.forward){let t=r();c(t,this.direction,E()*this.speed),a(this.position,this.position,t),console.log("Moving Forward!")}if(this.backward){let t=r();c(t,this.direction,E()*this.speed),h(this.position,this.position,t),console.log("Moving Backward!")}if(this.right){let t=r();c(t,this.rightDirection,E()*this.speed),a(this.position,this.position,t),console.log("Moving Right!")}if(this.left){let t=r();c(t,this.rightDirection,E()*this.speed),h(this.position,this.position,t),console.log("Moving Left!")}}}viewMatrix(){let e=n(),o=r();return a(o,this.position,this.direction),i=e,s=this.position,h=o,c=this.up,x=s[0],M=s[1],b=s[2],C=c[0],S=c[1],E=c[2],A=h[0],O=h[1],P=h[2],Math.abs(x-A)<t&&Math.abs(M-O)<t&&Math.abs(b-P)<t?function(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(i):(p=x-A,v=M-O,w=b-P,u=S*(w*=y=1/Math.hypot(p,v,w))-E*(v*=y),f=E*(p*=y)-C*w,l=C*v-S*p,(y=Math.hypot(u,f,l))?(u*=y=1/y,f*=y,l*=y):(u=0,f=0,l=0),d=v*l-w*f,m=w*u-p*l,g=p*f-v*u,(y=Math.hypot(d,m,g))?(d*=y=1/y,m*=y,g*=y):(d=0,m=0,g=0),i[0]=u,i[1]=d,i[2]=p,i[3]=0,i[4]=f,i[5]=m,i[6]=v,i[7]=0,i[8]=l,i[9]=g,i[10]=w,i[11]=0,i[12]=-(u*x+f*M+l*b),i[13]=-(d*x+m*M+g*b),i[14]=-(p*x+v*M+w*b),i[15]=1),e;var i,s,h,c,u,f,l,d,m,g,p,v,w,y,x,M,b,C,S,E,A,O,P}projMatrix(){const t=n();return i(t,2*Math.PI/5,this.aspect,this.znear,this.zfar),t}}class R{constructor(t,e=window.innerWidth,n=window.innerHeight){this.resize=(t=window.innerWidth,e=window.innerHeight)=>{this.canvas.width=t,this.canvas.height=e},this.hasResized=(t,e)=>this.width!=t||this.height!=e,this.canvas=((t,e,n=document.body)=>{const o=document.createElement("canvas");return n.insertBefore(o,n.firstChild),o.id="web-gpu-context",o.width=t,o.height=e,o})(e,n,t)}get width(){return this.canvas.width}get height(){return this.canvas.height}get context(){return this.canvas.getContext("webgpu")}}const _={meshName:"cube",vertexArray:new Float32Array([1,-1,1,1,1,0,1,1,1,1,-1,-1,1,1,0,0,1,1,0,1,-1,-1,-1,1,0,0,0,1,0,0,1,-1,-1,1,1,0,0,1,1,0,1,-1,1,1,1,0,1,1,1,1,-1,-1,-1,1,0,0,0,1,0,0,1,1,1,1,1,1,1,1,1,1,1,-1,1,1,1,0,1,1,0,1,1,-1,-1,1,1,0,0,1,0,0,1,1,-1,1,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,-1,-1,1,1,0,0,1,0,0,-1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,-1,1,1,1,0,1,0,0,-1,1,-1,1,0,1,0,1,1,0,-1,1,1,1,0,1,1,1,1,1,1,1,-1,1,1,1,0,1,0,0,-1,-1,1,1,0,0,1,1,1,1,-1,1,1,1,0,1,1,1,0,1,-1,1,-1,1,0,1,0,1,0,0,-1,-1,-1,1,0,0,0,1,1,0,-1,-1,1,1,0,0,1,1,1,1,-1,1,-1,1,0,1,0,1,0,0,1,1,1,1,1,1,1,1,1,1,-1,1,1,1,0,1,1,1,0,1,-1,-1,1,1,0,0,1,1,0,0,-1,-1,1,1,0,0,1,1,0,0,1,-1,1,1,1,0,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,-1,-1,1,1,0,0,1,1,1,-1,-1,-1,1,0,0,0,1,0,1,-1,1,-1,1,0,1,0,1,0,0,1,1,-1,1,1,1,0,1,1,0,1,-1,-1,1,1,0,0,1,1,1,-1,1,-1,1,0,1,0,1,0,0]),vertexCount:36,vertexSize:40,colorOffset:16,uvOffset:32,positionOffset:0},B={meshName:"pyramid",vertexArray:new Float32Array([0,1,0,1,1,0,1,1,1,1,-1,-1,1,1,0,0,1,1,0,1,1,-1,1,1,0,0,0,1,0,0,0,1,0,1,1,1,1,1,1,1,1,-1,1,1,1,0,1,1,0,1,1,-1,-1,1,1,0,0,1,0,0,0,1,0,1,1,1,1,1,1,1,1,-1,-1,1,1,0,1,1,0,1,-1,-1,-1,1,1,0,0,1,0,0,0,1,0,1,0,0,1,1,1,1,-1,-1,-1,1,0,1,1,1,0,1,-1,-1,1,1,0,1,0,1,0,0,-1,-1,-1,1,1,1,1,1,1,1,1,-1,-1,1,0,1,1,1,0,1,1,-1,1,1,0,0,1,1,0,0,-1,-1,-1,1,0,0,1,1,0,0,1,-1,1,1,0,0,1,1,0,0,-1,-1,1,1,1,1,1,1,1,1]),vertexCount:18,vertexSize:40,colorOffset:16,uvOffset:32,positionOffset:0},N={meshName:"plane",vertexArray:new Float32Array([-1,0,1,1,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0,1,1,0,-1,1,1,1,0,1,0,0,-1,0,-1,1,0,1,0,1,1,0,-1,0,1,1,0,1,1,1,1,1,1,0,-1,1,1,1,0,1,0,0]),vertexCount:6,vertexSize:40,colorOffset:16,uvOffset:32,positionOffset:0},k=document.getElementById("canvas-wrap"),T=document.getElementById("canvas-overlay"),F=e=>{const a=n();i(a,2*Math.PI/5,e,1,100);class h{constructor(t=r()){this.meshName=_.meshName,this.transform=n(),this.onInit=()=>{console.log("Translating cube")},this.onUpdate=()=>{},this.onDestroy=()=>{},this.startPos=t,o(this.transform,this.transform,t)}}class c{constructor(t=r()){this.meshName=B.meshName,this.onInit=()=>{console.log("Translating cube")},this.onDestroy=()=>{},this.startPos=t,this.transform=n(),o(this.transform,this.transform,this.startPos),console.log(this.transform)}onUpdate(){this.transform=function(e=0,i=0,r=0){const h=n();o(h,h,s(e,i,r));const c=Date.now()/1e3;var u,f,l,d,m,g,p,v,w,y,x,M,b,C,S,E,A,O,P,U,z,R,_,B,N,k,T,F,D,G,I;return u=h,f=h,l=s(Math.sin(c),Math.cos(c),0),F=l[0],D=l[1],G=l[2],(I=Math.hypot(F,D,G))<t||(F*=I=1/I,D*=I,G*=I,d=Math.sin(1),g=1-(m=Math.cos(1)),p=f[0],v=f[1],w=f[2],y=f[3],x=f[4],M=f[5],b=f[6],C=f[7],S=f[8],E=f[9],A=f[10],O=f[11],P=F*F*g+m,U=D*F*g+G*d,z=G*F*g-D*d,R=F*D*g-G*d,_=D*D*g+m,B=G*D*g+F*d,N=F*G*g+D*d,k=D*G*g-F*d,T=G*G*g+m,u[0]=p*P+x*U+S*z,u[1]=v*P+M*U+E*z,u[2]=w*P+b*U+A*z,u[3]=y*P+C*U+O*z,u[4]=p*R+x*_+S*B,u[5]=v*R+M*_+E*B,u[6]=w*R+b*_+A*B,u[7]=y*R+C*_+O*B,u[8]=p*N+x*k+S*T,u[9]=v*N+M*k+E*T,u[10]=w*N+b*k+A*T,u[11]=y*N+C*k+O*T,f!==u&&(u[12]=f[12],u[13]=f[13],u[14]=f[14],u[15]=f[15])),function(t,e,n){var o=e[0],i=e[1],r=e[2],s=e[3],a=e[4],h=e[5],c=e[6],u=e[7],f=e[8],l=e[9],d=e[10],m=e[11],g=e[12],p=e[13],v=e[14],w=e[15],y=n[0],x=n[1],M=n[2],b=n[3];t[0]=y*o+x*a+M*f+b*g,t[1]=y*i+x*h+M*l+b*p,t[2]=y*r+x*c+M*d+b*v,t[3]=y*s+x*u+M*m+b*w,y=n[4],x=n[5],M=n[6],b=n[7],t[4]=y*o+x*a+M*f+b*g,t[5]=y*i+x*h+M*l+b*p,t[6]=y*r+x*c+M*d+b*v,t[7]=y*s+x*u+M*m+b*w,y=n[8],x=n[9],M=n[10],b=n[11],t[8]=y*o+x*a+M*f+b*g,t[9]=y*i+x*h+M*l+b*p,t[10]=y*r+x*c+M*d+b*v,t[11]=y*s+x*u+M*m+b*w,y=n[12],x=n[13],M=n[14],b=n[15],t[12]=y*o+x*a+M*f+b*g,t[13]=y*i+x*h+M*l+b*p,t[14]=y*r+x*c+M*d+b*v,t[15]=y*s+x*u+M*m+b*w}(n(),a,h),h}(this.startPos[0],this.startPos[1],this.startPos[2])}}const f=l(O().toString());M(B),M(_),M(N);let m=1;var g;x(new class{constructor(t=r(),e=r()){var i,s,a,h,c,u;this.meshName=N.meshName,this.onInit=()=>{},this.onDestroy=()=>{},this.startPos=t,this.transform=n(),o(this.transform,this.transform,this.startPos),i=this.transform,s=this.transform,h=(a=e)[0],c=a[1],u=a[2],i[0]=s[0]*h,i[1]=s[1]*h,i[2]=s[2]*h,i[3]=s[3]*h,i[4]=s[4]*c,i[5]=s[5]*c,i[6]=s[6]*c,i[7]=s[7]*c,i[8]=s[8]*u,i[9]=s[9]*u,i[10]=s[10]*u,i[11]=s[11]*u,i[12]=s[12],i[13]=s[13],i[14]=s[14],i[15]=s[15],console.log(this.transform)}onUpdate(){f.textContent=O().toString()}}(s(0,0,0),s(10,1,10))),u("Add Cube",(()=>{x(new h(s(0,1,4*m))),m++}),T),u("Add Pyramid",(()=>{x(new c(s(2,1,4*m))),m++}),T),g=new z(s(0,0,5),r(),s(0,1,0),e,1,1,100),w.length>=1?d.ERROR:(g.onInit(),w.push(g),d.SUCESS)},D=document.getElementById("checker-div");l("Welcome to BigWorld. Start your adventure now!",D),((t,e,n=document.body)=>{f(t,e,n).classList.add("page-button")})("Play Now!",(()=>{if(!(()=>{const t=navigator.gpu,e=document.getElementById("gpu-check");return t?(e.textContent="WebGPU Enabled! Ready to start your adventure?",!0):(e.textContent="Current browser does not support WebGPU!",!1)})())return;console.log("Starting Bigworld..."),null==D||D.remove();let t=(()=>{let t=new R(k);return T.style.height=t.height.toString()+"px",T.style.width=t.width.toString()+"px",t})();window.addEventListener("resize",(e=>{console.log("Resize"),t.resize(),T.style.height=t.height.toString()+"px",T.style.width=t.width.toString()+"px"})),F(t.width/t.height),P({gameWindow:t,pageState:{active:!0}})}),D)})();
//# sourceMappingURL=main.bundle.js.map